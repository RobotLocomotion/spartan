# Separate configurations provided for the point cloud generation,
# and for the actual object detector, to make transition to externally-imported
# data smoother.

point_cloud_generator_options:
    # Scene sampling mode 0 = center of each face
    # scene sampling mode 1 = num_rays surface points randomly uniformly across faces of specified model, or all of them (don't specify model)
    # scene sampling mode 2 = num_rays surface points, within sample_distance of a random vertex on specified model (or random model if unspecified)
    scene_sampling_mode: 1
    num_rays: 10 # if using random scene point sampling, sample this many points
    sample_distance: 0.05
    
    models:
       - urdf: "models/urdf/cubes_jointed.urdf"
         q0: [0.1, 0, 0.5, 0.9, 0.5, 0.2, 0.2]
       #- urdf: "../urdf/cubes.urdf"
       #  q0: [0.5, 0, 0, 0, 0, 0.2, 0.1, 0, 0, 0, 0, -0.2]
       #- urdf: "../urdf/cube.urdf"
       #  q0: [0.5, 0, 0, 0, 0, 0.2]


detector_options:
    
    # options of rot constraints:
    # 0: constrained to ground truth
    # 1: unconstrained
    # 2: columnwise and row-wise L1-norm >= 1
    # 3: McCormick quaternion
    # 4: McCormick directly on rotmat
    # 5: Conservative RPY limits
    rotation_constraint: 0
    rotation_constraint_num_faces: 3

    allow_outliers: false
    phi_max: 0.01
    use_initial_guess: false
    corruption_amount: 0.00

    downsample_to_this_many_points: 50

    gurobi_int_options:
        #MIPFocus: 1
        #PoolSearchMode: 0
        #PoolSolutions: 20
        #SubMIPNodes: 1000
        Threads: 10

    gurobi_float_options:
        TimeLimit: 120
        #PoolGap: 0.0
        FeasRelaxBigM: 100
        MIPGap: 0.0
        #Heuristics: 0.05

    models:
       - urdf: "models/urdf/cubes_jointed.urdf"
         q0: [0.1, 0, 0.5, 0.9, 0.5, 0.2, 0.2]
       #- urdf: "../urdf/cubes.urdf"
       #  q0: [0.5, 0, 0, 0, 0, 0.2, 0.1, 0, 0, 0, 0, -0.2]
       #- urdf: "../urdf/cube.urdf"
       #  q0: [0.5, 0, 0, 0, 0, 0.2]
